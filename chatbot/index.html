<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>WFM Survey</title>

    <link rel="shortcut icon" href="" type="image/x-icon">
    <link rel="apple-touch-icon" href="">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style>
        html,
        body {
            margin: 0;
            height: 100%;
            overflow: hidden
        }

        #cf-context {
            width: 100vw;
            height: 100vh;
        }

        #form {
            height: 0px;
            overflow: hidden;
        }

    </style>

</head>

<body>

    <!--<h1>Welcome!</h1>-->

    <form id="form">

        <cf-robot-message cf-questions="Hello my friend &#x1F44B;&amp;&amp;Let's begin..."></cf-robot-message>
        <input type="text" name="firstname" id="firstname" placeholder="firstname" cf-questions="What's your first name?" />
        <input type="text" name="lastname" id="lastname" placeholder="lastname" cf-questions="Hi {firstname}, what's your last name?" />
        <!--<input cf-questions="{firstname} {lastname}, what a solid name!&amp;&amp;Do you currently work remotely?" cf-label="Yes" type="radio" name="remote" value="yes">
        <input cf-label="No" type="radio" name="remote" value="no">-->
        
        <fieldset cf-questions="{firstname} {lastname}, what a solid name!&amp;&amp;Do you currently work remotely?">
            <input required type="radio" name="remote" id="remotetrue" value="yes" cf-conditional-lastname="[\w\W]*">
            <label for="remotetrue">Yes</label>

            <input required type="radio" name="remote" id="remotefalse" value="no" cf-conditional-lastname="[\w\W]*">
            <label for="remotefalse">No</label>
        </fieldset>
        
        <fieldset cf-questions="Ok! Have you worked remotely in the past?">
            <input required type="radio" name="yesremotepast" id="currentremotepasttrue" value="yes" cf-conditional-remote="yes">
            <label for="currentremotepasttrue">Yes</label>

            <input required type="radio" name="yesremotepast" id="currentremotepastfalse" value="no" cf-conditional-remote="yes">
            <label for="currentremotepastfalse">No</label>
        </fieldset>
        
        <input type="text" name="findingwfh" id="findingwfh" cf-questions="How are you finding working from home?" cf-conditional-yesremotepast="no">
        
        <fieldset cf-questions="Alright! Are you comfortable working from home?">
            <input required type="radio" name="yesremotepastcomfortable" id="currentremotepasttruecomforttrue" value="yes" cf-conditional-findingwfh="" cf-conditional-yesremotepast="yes">
            <label for="currentremotepasttruecomforttrue">Yes</label>

            <input required type="radio" name="yesremotepastcomfortable" id="currentremotepastfalsecomfortfalse" value="no" cf-conditional-findingwfh="" cf-conditional-yesremotepast="yes">
            <label for="currentremotepastfalsecomfortfalse">No</label>
        </fieldset>
        
        <input type="text" name="yesremotepastnocomfortexp" id="yesremotepastnocomfortexp" cf-questions="Could you please explain why?" cf-conditional-yesremotepastcomfortable="no">
        
        <fieldset cf-questions="Next one... Has working from home affected the quality of your work?">
            <input required type="radio" name="yesremotepastquality" id="currentremotepastqualitytrue" value="yes" cf-conditional-yesremotepastnocomfortexp="" cf-conditional-remote="yes">
            <label for="currentremotepastqualitytrue">Yes</label>

            <input required type="radio" name="yesremotepastquality" id="currentremotepastqualityfalse" value="no" cf-conditional-yesremotepastnocomfortexp="" cf-conditional-remote="yes">
            <label for="currentremotepastqualityfalse">No</label>
        </fieldset>
        
        <input type="text" name="yesremotepastqualityexp" id="yesremotepastqualityexp" cf-questions="Could you please elaborate?" cf-conditional-yesremotepastquality="yes">
        
        <fieldset cf-questions="Sweet... Do you currently have adequate infrastructure or appropriate furniture to work from home?">
            <input required type="radio" name="yesremotepastinfra" id="currentremotepastinfratrue" value="yes" cf-conditional-yesremotepastqualityexp="" cf-conditional-remote="yes">
            <label for="currentremotepastinfratrue">Yes</label>

            <input required type="radio" name="yesremotepastinfra" id="currentremotepastinfrafalse" value="no" cf-conditional-yesremotepastqualityexp="" cf-conditional-remote="yes">
            <label for="currentremotepastinfrafalse">No</label>
        </fieldset>
        
        <input type="text" name="yesremotepastinfraexp" id="yesremotepastinfraexp" cf-questions="Could you please explain further?" cf-conditional-yesremotepastinfra="no">
        
        <input type="text" name="yesremotepastchange" id="yesremotepastchange" cf-questions="Would you change anything about how you work remotely?" cf-conditional-yesremotepastinfraexp="" cf-conditional-remote="yes">

        <fieldset cf-questions="Nice! Have you worked remotely in the past?">
            <input required type="radio" name="noremotepast" id="pastremotepasttrue" value="yes" cf-conditional-remote="no">
            <label for="pastremotepasttrue">Yes</label>

            <input required type="radio" name="noremotepast" id="pastremotepastfalse" value="no" cf-conditional-remote="no">
            <label for="pastremotepastfalse">No</label>
        </fieldset>
        
        <input type="text" name="noremotepastchange" id="noremotepastchange" cf-questions="How has your working environment evolved since the start of 2020?" cf-conditional-noremotepast="yes||no">
        
        <fieldset cf-questions="Okie dokie... Would you be willing to purchase an online course designed to increase your productivity while working from home?">
            <input required type="radio" name="course" id="coursetrue" value="yes" cf-conditional-noremotepastchange="[\w\W]*" cf-conditional-yesremotepastchange="[\w\W]*">
            <label for="coursetrue">Yes</label>

            <input required type="radio" name="course" id="coursefalse" value="no" cf-conditional-noremotepastchange="[\w\W]*" cf-conditional-yesremotepastchange="[\w\W]*">
            <label for="coursefalse">No</label>
        </fieldset>
        
    </form>
    <div id="cf-context" role="cf-context" cf-context></div>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="assets/conversational-form-1.0.2/dist/conversational-form.js"></script>
    <script>
        window.onload = function() {
            var testValidation = function(dto, success, error) {
                console.log("dto....", dto, success, error);
                if (dto.text.indexOf("world") != -1) return success();
                return error();
            };

            const dispatcher = new cf.EventDispatcher();
            dispatcher.addEventListener(
                cf.ChatListEvents.CHATLIST_UPDATED,
                function(event) {
                    // console.log("chat list updated...", event);
                },
                false
            );

            var conversationalForm = new cf.ConversationalForm({
                formEl: document.getElementById("form"),
                context: document.getElementById("cf-context"),
                eventDispatcher: dispatcher,
                preventAutoFocus: false,
                showProgressBar: true,
                theme: 'dark',
                flowStepCallback: function(dto, success, error) {
                    success();
                },
                submitCallback: function() {
                    // remove Conversational Form
                    alert("You made it!");
                    console.log("Form submitted...");
                }
            });
        };

    </script>
</body>

</html>
