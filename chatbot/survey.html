<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Working in the Age of COVID-19</title>

    <link rel="shortcut icon" href="" type="image/x-icon">
    <link rel="apple-touch-icon" href="">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/conversational-form-1.0.2/dist/conversational-form-dark.css">
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/chat.css">
    <link rel="stylesheet" href="assets/css/fonts.css">
</head>

<body>
    <form id="form" class="textgtreg">
        <!--<cf-robot-message class="textgtreg" cf-questions="Hello there &#x1F44B;&amp;&amp;Welcome to the survey&amp;&amp;Let's begin..."></cf-robot-message>-->
        <!--<input required type="text" name="firstname" id="firstname" cf-input-placeholder="Type your first name here..." cf-error="Please enter your first name." cf-questions="What's your first name?" />
        <input required type="text" name="lastname" id="lastname" cf-input-placeholder="Type your last name here..." cf-error="Please enter your last name." cf-questions="Hi {firstname}, what's your last name?" />
        <input required type="email" name="email" id="email" cf-input-placeholder="Enter your email here..." cf-error="Please enter a valid email." cf-questions="{firstname} {lastname}, great to meet you!&amp;&amp;What's your email?" />-->
        
        <fieldset cf-questions="Hello there &#x1F44B;&amp;&amp;Welcome to the survey&amp;&amp;Let's begin...&amp;&amp;What's your age range?">
            <input required type="radio" name="age" id="age1" value="≤21">
            <label for="age1">≤21</label>

            <input required type="radio" name="age" id="age2" value="22-35">
            <label for="age2">22-35</label>
            
            <input required type="radio" name="age" id="age3" value="36-49">
            <label for="age3">36-49</label>
            
            <input required type="radio" name="age" id="age4" value="50+">
            <label for="age4">50+</label>
        </fieldset>
        
        <input required type="text" name="industry" id="industry" cf-error="Please enter your industry." cf-questions="What industry do you work in?" cf-conditional-age="≤21||22-35||36-49||50+"/>

        <fieldset cf-questions="How many days do you currently work remotely?">
            <input required type="radio" name="remote" id="remote0" value="0" cf-conditional-industry="[\w\W]*">
            <label for="remote0">0</label>
            
            <input required type="radio" name="remote" id="remote1" value="1" cf-conditional-industry="[\w\W]*">
            <label for="remote1">1</label>

            <input required type="radio" name="remote" id="remote2" value="2" cf-conditional-industry="[\w\W]*">
            <label for="remote2">2</label>
            
            <input required type="radio" name="remote" id="remote3" value="3" cf-conditional-industry="[\w\W]*">
            <label for="remote3">3</label>
            
            <input required type="radio" name="remote" id="remote4" value="4" cf-conditional-industry="[\w\W]*">
            <label for="remote4">4</label>
            
            <input required type="radio" name="remote" id="remote5" value="5" cf-conditional-industry="[\w\W]*">
            <label for="remote5">5</label>
            
            <input required type="radio" name="remote" id="remote6" value="6" cf-conditional-industry="[\w\W]*">
            <label for="remote6">6</label>
            
            <input required type="radio" name="remote" id="remote7" value="7" cf-conditional-industry="[\w\W]*">
            <label for="remote7">7</label>
            
        </fieldset>

        <fieldset cf-questions="Ok! Have you worked remotely in the past?">
            <input required type="radio" name="yesremotepast" id="currentremotepasttrue" value="yes" cf-conditional-remote="1||2||3||4||5||6||7">
            <label for="currentremotepasttrue">Yes</label>

            <input required type="radio" name="yesremotepast" id="currentremotepastfalse" value="no" cf-conditional-remote="1||2||3||4||5||6||7">
            <label for="currentremotepastfalse">No</label>
        </fieldset>

        <input type="text" name="findingwfh" id="findingwfh" cf-input-placeholder="Eg. boring, liberating, tiring..." cf-questions="How are you finding working remotely?" cf-conditional-yesremotepast="no">
        
        <input type="text" name="wfhdiff" id="wfhdiff" cf-questions="How is working remotely different to working with colleagues?" cf-conditional-findingwfh="" cf-conditional-remote="1||2||3||4||5||6||7">

        <fieldset cf-questions="Alright! Are you comfortable working from home?">
            <input required type="radio" name="yesremotepastcomfortable" id="currentremotepasttruecomforttrue" value="yes" cf-conditional-wfhdiff="" cf-conditional-remote="1||2||3||4||5||6||7">
            <label for="currentremotepasttruecomforttrue">Yes</label>

            <input required type="radio" name="yesremotepastcomfortable" id="currentremotepastfalsecomfortfalse" value="no" cf-conditional-wfhdiff="" cf-conditional-remote="1||2||3||4||5||6||7">
            <label for="currentremotepastfalsecomfortfalse">No</label>
        </fieldset>

        <input type="text" name="yesremotepastnocomfortexp" id="yesremotepastnocomfortexp" cf-input-placeholder="Eg. feeling too isolated..." cf-questions="Could you please explain why?" cf-conditional-yesremotepastcomfortable="no">
        
        <fieldset cf-questions="Are you an employer or employee?">
            <input required type="radio" name="yesrole" id="yesroleemployer" value="employer" cf-conditional-yesremotepastnocomfortexp="" cf-conditional-remote="1||2||3||4||5||6||7">
            <label for="yesroleemployer">Employer</label>

            <input required type="radio" name="yesrole" id="yesroleemployee" value="employee" cf-conditional-yesremotepastnocomfortexp="" cf-conditional-remote="1||2||3||4||5||6||7">
            <label for="yesroleemployee">Employee</label>
        </fieldset>
        
        <input type="text" name="yesmanager" id="yesmanager" cf-questions="Do you oversee or manage other employees?" cf-conditional-yesrole="employee">

        <fieldset cf-questions="Next one... Has working from home affected the quality of your work or your productivity?">
            <input required type="radio" name="yesremotepastquality" id="currentremotepastqualitytrue" value="yes" cf-conditional-yesmanager="" cf-conditional-remote="1||2||3||4||5||6||7">
            <label for="currentremotepastqualitytrue">Yes</label>

            <input required type="radio" name="yesremotepastquality" id="currentremotepastqualityfalse" value="no" cf-conditional-yesmanager="" cf-conditional-remote="1||2||3||4||5||6||7">
            <label for="currentremotepastqualityfalse">No</label>
        </fieldset>

        <input type="text" name="yesremotepastqualityexp" id="yesremotepastqualityexp" cf-input-placeholder="Eg. easily distracted..." cf-questions="Could you please elaborate?" cf-conditional-yesremotepastquality="yes">
        
        <input type="text" name="yeslike" id="yeslike" cf-questions="What do you like about working remotely?" cf-conditional-yesremotepastqualityexp="" cf-conditional-remote="1||2||3||4||5||6||7">
        
        <input type="text" name="yesdislike" id="yesdislike" cf-questions="What do you dislike about working remotely?" cf-conditional-yeslike="" cf-conditional-remote="1||2||3||4||5||6||7">

        <fieldset cf-questions="Do you currently have adequate infrastructure or appropriate furniture to work from home?">
            <input required type="radio" name="yesremotepastinfra" id="currentremotepastinfratrue" value="yes" cf-conditional-yesdislike="" cf-conditional-remote="1||2||3||4||5||6||7">
            <label for="currentremotepastinfratrue">Yes</label>

            <input required type="radio" name="yesremotepastinfra" id="currentremotepastinfrafalse" value="no" cf-conditional-yesdislike="" cf-conditional-remote="1||2||3||4||5||6||7">
            <label for="currentremotepastinfrafalse">No</label>
        </fieldset>

        <input type="text" name="yesremotepastinfraexp" id="yesremotepastinfraexp" cf-input-placeholder="Eg. no home office..." cf-questions="Could you please explain further?" cf-conditional-yesremotepastinfra="no">

        <input type="text" name="yesremotepastchange" id="yesremotepastchange" cf-questions="Would you change anything about how you work remotely?" cf-conditional-yesremotepastinfraexp="" cf-conditional-remote="1||2||3||4||5||6||7">
        
        <input type="text" name="yescurrenttools" id="yescurrenttools" cf-input-placeholder="Eg. Slack, Zoom..." cf-questions="What tools or resources do you currently use to work remotely?" cf-conditional-yesremotepastchange="" cf-conditional-remote="1||2||3||4||5||6||7">
        
        <input type="text" name="yesothertools" id="yesothertools" cf-input-placeholder="Eg. a new monitor, podcasts..." cf-questions="Are there any other tools or resources which could enhance your remote work experience?" cf-conditional-yesremotepastchange="" cf-conditional-remote="1||2||3||4||5||6||7">
        
        <input type="text" name="yesafter" id="yesafter" cf-input-placeholder="Eg. no, yes - 2 days a week..." cf-questions="Would you prefer to work remotely after COVID-19 restrictions are lifted?&amp;&amp;If yes, what would you like it to look like?" cf-conditional-yesothertools="" cf-conditional-remote="1||2||3||4||5||6||7">

        <fieldset cf-questions="Nice! Have you worked remotely in the past?">
            <input required type="radio" name="noremotepast" id="pastremotepasttrue" value="yes" cf-conditional-remote="0">
            <label for="pastremotepasttrue">Yes</label>

            <input required type="radio" name="noremotepast" id="pastremotepastfalse" value="no" cf-conditional-remote="0">
            <label for="pastremotepastfalse">No</label>
        </fieldset>
        
        <fieldset cf-questions="Are you an employer or employee?">
            <input required type="radio" name="norole" id="noroleemployer" value="employer" cf-conditional-noremotepast="yes||no" cf-conditional-remote="0">
            <label for="noroleemployer">Employer</label>

            <input required type="radio" name="norole" id="noroleemployee" value="employee" cf-conditional-noremotepast="yes||no" cf-conditional-remote="0">
            <label for="noroleemployee">Employee</label>
        </fieldset>
        
        <input type="text" name="nomanager" id="nomanager" cf-questions="Do you oversee or manage other employees?" cf-conditional-norole="employee">

        <input type="text" name="noremotepastchange" id="noremotepastchange" cf-questions="How has your working environment evolved since the start of 2020?" cf-conditional-nomanager="" cf-conditional-remote="0">
        
        <input type="text" name="nofuturetools" id="nofuturetools" cf-input-placeholder="Eg. a new monitor, podcasts..." cf-questions="What tools or resources would be beneficial to you if your industry/job became remote?" cf-conditional-nomanager="" cf-conditional-remote="0">

        <fieldset cf-questions="Almost done... Would you be willing to purchase an online course designed to increase your productivity while working from home?">
            <input required type="radio" name="course" id="coursetrue" value="yes" cf-conditional-nofuturetools="[\w\W]*" cf-conditional-yesafter="[\w\W]*">
            <label for="coursetrue">Yes</label>

            <input required type="radio" name="course" id="coursefalse" value="no" cf-conditional-nofuturetools="[\w\W]*" cf-conditional-yesafter="[\w\W]*">
            <label for="coursefalse">No</label>
        </fieldset>
        
        <fieldset cf-questions="Last one... Would you be willing to participate in a follow-up survey to go through the details of the online course?">
            <input required type="radio" name="followup" id="followuptrue" value="yes">
            <label for="followuptrue">Yes</label>

            <input required type="radio" name="followup" id="followupfalse" value="no">
            <label for="followupfalse">No</label>
        </fieldset>
        
        <input required type="email" name="email" id="email" cf-input-placeholder="Enter your email here..." cf-error="Please enter a valid email." cf-questions="Great!&amp;&amp;What's your email?" cf-conditional-followup="yes"/>
        
        <fieldset cf-questions="All done... Are you ready to submit?">
            <input required type="radio" name="submit" id="submit" value="yes">
            <label for="submit">Yes</label>
        </fieldset>

        <!--<input type="hidden" name="_subject" value="New WFH Survey submission">
        <input type="hidden" name="_captcha" value="false">
        <input type="hidden" name="_webhook" value="https://hook.integromat.com/ckv595xf9a1uvh9kjykg4gyjp9s21opd">
        <input type="hidden" name="_url" value="https://remoteworksurvey.netlify.app/survey.html">
        <input type="hidden" name="_next" value="https://remoteworksurvey.netlify.app/success.html">-->

    </form>
    <div id="cf-context" role="cf-context" cf-context></div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="assets/conversational-form-1.0.2/dist/conversational-form.js"></script>
    <script>
        window.onload = function() {
            var testValidation = function(dto, success, error) {
                console.log("dto....", dto, success, error);
                if (dto.text.indexOf("world") != -1) return success();
                return error();
            };

            const dispatcher = new cf.EventDispatcher();
            dispatcher.addEventListener(
                cf.ChatListEvents.CHATLIST_UPDATED,
                function(event) {
                    // console.log("chat list updated...", event);
                },
                false
            );

            var conversationalForm = new cf.ConversationalForm({
                formEl: document.getElementById("form"),
                context: document.getElementById("cf-context"),
                eventDispatcher: dispatcher,
                preventAutoFocus: false,
                showProgressBar: true,
                loadExternalStyleSheet: false,
                theme: 'dark',
                flowStepCallback: function(dto, success, error) {
                    success();
                },
                submitCallback: function() {
                    /*const scriptURL = 'https://api.formcake.com/api/form/6115f711-a3df-450b-ab9c-052a53ff4ff2/submission' //'https://formsubmit.co/bc7465f0b14036c3a724aed6c8863560'
                    conversationalForm.addRobotChatResponse("That's it! Thanks for your time &#x1F60A;");
                    fetch(scriptURL, {
                            method: 'POST',
                            body: new FormData(form)
                        })
                        .then(response => setTimeout(function() {
                            window.location();
                        }, 5000))
                        .catch(error => console.error('Error!', error.message)).then(function() {
                            window.location.assign('https://remoteworksurvey.netlify.app/success.html')
                        });*/

                    var formData = conversationalForm.getFormData();
                    var formDataSerialized = conversationalForm.getFormData(true);
                    console.log("Formdata:", formData);
                    console.log("Formdata, serialized:", formDataSerialized);

                    /* const SUBMISSION_ENDPOINT = 'https://api.formcake.com/api/form/6115f711-a3df-450b-ab9c-052a53ff4ff2/submission';
                     const formcakePost = (data = {formData}) => fetch(SUBMISSION_ENDPOINT, {
                         method: 'POST',
                         headers: {
                             'Content-Type': 'application/json'
                         },
                         body: JSON.stringify(data),
                     });

                     formcakePost({
                             example: 'data'
                         })
                         .then((response) => response.json())
                         .then((data) => console.log(data));*/

                    /*var jqxhr = $.post('https://api.formcake.com/api/form/6115f711-a3df-450b-ab9c-052a53ff4ff2/submission', formDataSerialized, function(data) {
                        console.log("Success! Data: " + data.statusText);
                    }).then(function() {
                        location.href = 'https://remoteworksurvey.netlify.app/success.html'
                    });*/

                    $(function() {
                        var jqxhr = $.post("https://api.formcake.com/api/form/6115f711-a3df-450b-ab9c-052a53ff4ff2/submission", $("#form").serialize(), function(data) {
                            console.log("Success! Data: " + data.statusText);
                            $(location).attr('href', 'https://remoteworksurvey.netlify.app/success.html');
                        });
                    })

                }
            });
        };

    </script>
</body>
